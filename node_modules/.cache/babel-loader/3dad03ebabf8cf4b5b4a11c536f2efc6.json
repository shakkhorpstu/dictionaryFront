{"remainingRequest":"/opt/lampp/htdocs/adminDictionary/node_modules/babel-loader/lib/index.js!/opt/lampp/htdocs/adminDictionary/src/store/auth.js","dependencies":[{"path":"/opt/lampp/htdocs/adminDictionary/src/store/auth.js","mtime":1581436526200},{"path":"/opt/lampp/htdocs/adminDictionary/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/opt/lampp/htdocs/adminDictionary/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL29wdC9sYW1wcC9odGRvY3MvYWRtaW5EaWN0aW9uYXJ5L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi9yb3V0ZXInOwp2YXIgc3RhdGUgPSB7CiAgbWVudXM6IFtdLAogIHJvbGU6IHt9LAogIGFkbWluOiB7fQp9Owp2YXIgY3VzdG9tR2V0dGVycyA9IHt9Owp2YXIgY3VzdG9tQWN0aW9ucyA9IHsKICBBQ1RfTE9HSU46IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfQUNUX0xPR0lOID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAvKiNfX1BVUkVfXyovCiAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGNvbnRleHQsIHBheWxvYWQpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCdsb2dpbicsIHBheWxvYWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnTVVUX0xPR0dFRF9VU0VSX0RBVEEnLCBkYXRhKTsKICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdNVVRfRU5EX0xPQURJTkcnLCB7CiAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnLyc7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGV4Y2VwdGlvbikgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXhjZXB0aW9uKTsKICAgICAgICAgICAgICAgIHZhciBlcnJvckRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIGVtYWlsIC8gcGFzc3dvcmQnCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ01VVF9FTkRfTE9BRElORycsIHsKICAgICAgICAgICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnTVVUX05PVElGSUNBVElPTicsIGVycm9yRGF0YSwgewogICAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gQUNUX0xPR0lOKF94LCBfeDIpIHsKICAgICAgcmV0dXJuIF9BQ1RfTE9HSU4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gQUNUX0xPR0lOOwogIH0oKSwKICBBQ1RfTE9HT1VUOiBmdW5jdGlvbiBBQ1RfTE9HT1VUKGNvbnRleHQpIHsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyJyk7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdtZW51cycpOwogICAgbG9jYXRpb24uaHJlZiA9ICcvbG9naW4nOwogIH0KfTsKdmFyIGN1c3RvbU11dGF0aW9ucyA9IHsKICBNVVRfTE9HR0VEX1VTRVJfREFUQTogZnVuY3Rpb24gTVVUX0xPR0dFRF9VU0VSX0RBVEEoc3RhdGUsIHBheWxvYWQpIHsKICAgIC8vIHN0YXRlLmFkbWluID0gcGF5bG9hZC51c2VyLmFkbWluOwogICAgLy8gc3RhdGUucm9sZSA9IHBheWxvYWQudXNlci5hZG1pbi5hZG1pbl9yb2xlOwogICAgc3RhdGUubWVudXMgPSBwYXlsb2FkLnVzZXIuYWRtaW4uYWRtaW5fcm9sZS5hZG1pbl9wZXJtaXNzaW9uOwogICAgZGVsZXRlIHBheWxvYWQudXNlci5hZG1pbjsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyJywgSlNPTi5zdHJpbmdpZnkocGF5bG9hZC51c2VyKSk7CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCBKU09OLnN0cmluZ2lmeShwYXlsb2FkLnRva2VuKSk7CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbWVudXMnLCBKU09OLnN0cmluZ2lmeShzdGF0ZS5tZW51cykpOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBnZXR0ZXJzOiBjdXN0b21HZXR0ZXJzLAogIG11dGF0aW9uczogY3VzdG9tTXV0YXRpb25zLAogIGFjdGlvbnM6IGN1c3RvbUFjdGlvbnMKfTs="},{"version":3,"sources":["/opt/lampp/htdocs/adminDictionary/src/store/auth.js"],"names":["axios","router","state","menus","role","admin","customGetters","customActions","ACT_LOGIN","context","payload","post","then","response","data","commit","root","window","location","href","catch","exception","console","log","errorData","message","ACT_LOGOUT","localStorage","removeItem","customMutations","MUT_LOGGED_USER_DATA","user","admin_role","admin_permission","setItem","JSON","stringify","token","getters","mutations","actions"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEA,IAAMC,KAAK,GAAG;AACVC,EAAAA,KAAK,EAAE,EADG;AAEVC,EAAAA,IAAI,EAAE,EAFI;AAGVC,EAAAA,KAAK,EAAE;AAHG,CAAd;AAMA,IAAMC,aAAa,GAAG,EAAtB;AAIA,IAAMC,aAAa,GAAG;AAClBC,EAAAA,SAAS;AAAA;AAAA;AAAA,4BAAE,iBAAgBC,OAAhB,EAAyBC,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACDV,KAAK,CAACW,IAAN,CAAW,OAAX,EAAoBD,OAApB,EACGE,IADH,CACQ,UAAAC,QAAQ,EAAI;AACd,oBAAIC,IAAI,GAAGD,QAAQ,CAACC,IAApB;AACAL,gBAAAA,OAAO,CAACM,MAAR,CAAe,sBAAf,EAAuCD,IAAvC;AACAL,gBAAAA,OAAO,CAACM,MAAR,CAAe,iBAAf,EAAkC;AAAEC,kBAAAA,IAAI,EAAE;AAAR,iBAAlC;AACAC,gBAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AACH,eANH,EAOGC,KAPH,CAOS,UAAAC,SAAS,EAAI;AAChBC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,SAAZ;AACA,oBAAIG,SAAS,GAAG;AACZC,kBAAAA,OAAO,EAAE;AADG,iBAAhB;AAGAhB,gBAAAA,OAAO,CAACM,MAAR,CAAe,iBAAf,EAAkC;AAAEC,kBAAAA,IAAI,EAAE;AAAR,iBAAlC;AACAP,gBAAAA,OAAO,CAACM,MAAR,CAAe,kBAAf,EAAmCS,SAAnC,EAA8C;AAAER,kBAAAA,IAAI,EAAE;AAAR,iBAA9C;AACH,eAdH,CADC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,KADS;AAkBlBU,EAAAA,UAAU,EAAE,oBAAUjB,OAAV,EAAmB;AAC3BkB,IAAAA,YAAY,CAACC,UAAb,CAAwB,MAAxB;AACAD,IAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAD,IAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAV,IAAAA,QAAQ,CAACC,IAAT,GAAgB,QAAhB;AACH;AAvBiB,CAAtB;AA0BA,IAAMU,eAAe,GAAG;AACpBC,EAAAA,oBAAoB,EAAE,8BAAU5B,KAAV,EAAiBQ,OAAjB,EAA0B;AAC5C;AACA;AACAR,IAAAA,KAAK,CAACC,KAAN,GAAcO,OAAO,CAACqB,IAAR,CAAa1B,KAAb,CAAmB2B,UAAnB,CAA8BC,gBAA5C;AAEA,WAAOvB,OAAO,CAACqB,IAAR,CAAa1B,KAApB;AACAsB,IAAAA,YAAY,CAACO,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAe1B,OAAO,CAACqB,IAAvB,CAA7B;AACAJ,IAAAA,YAAY,CAACO,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAe1B,OAAO,CAAC2B,KAAvB,CAA9B;AACAV,IAAAA,YAAY,CAACO,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAelC,KAAK,CAACC,KAArB,CAA9B;AACH;AAVmB,CAAxB;AAaA,eAAe;AACXD,EAAAA,KAAK,EAALA,KADW;AAEXoC,EAAAA,OAAO,EAAEhC,aAFE;AAGXiC,EAAAA,SAAS,EAAEV,eAHA;AAIXW,EAAAA,OAAO,EAAEjC;AAJE,CAAf","sourcesContent":["import axios from 'axios';\nimport router from '../router';\n\nconst state = {\n    menus: [],\n    role: {},\n    admin: {}\n};\n\nconst customGetters = {\n\n};\n\nconst customActions = {\n    ACT_LOGIN: async function (context, payload) {\n        await axios.post('login', payload)\n                .then(response => {\n                    let data = response.data;\n                    context.commit('MUT_LOGGED_USER_DATA', data);\n                    context.commit('MUT_END_LOADING', { root: true });\n                    window.location.href = '/';\n                })\n                .catch(exception => {\n                    console.log(exception);\n                    let errorData = {\n                        message: 'Invalid email / password'\n                    };\n                    context.commit('MUT_END_LOADING', { root: true });\n                    context.commit('MUT_NOTIFICATION', errorData, { root: true });\n                });\n    },\n    ACT_LOGOUT: function (context) {\n        localStorage.removeItem('user');\n        localStorage.removeItem('token');\n        localStorage.removeItem('menus');\n        location.href = '/login';\n    }\n};\n\nconst customMutations = {\n    MUT_LOGGED_USER_DATA: function (state, payload) {\n        // state.admin = payload.user.admin;\n        // state.role = payload.user.admin.admin_role;\n        state.menus = payload.user.admin.admin_role.admin_permission;\n\n        delete payload.user.admin;\n        localStorage.setItem('user', JSON.stringify(payload.user));\n        localStorage.setItem('token', JSON.stringify(payload.token));\n        localStorage.setItem('menus', JSON.stringify(state.menus));\n    },\n};\n\nexport default {\n    state,\n    getters: customGetters,\n    mutations: customMutations,\n    actions: customActions\n}"]}]}